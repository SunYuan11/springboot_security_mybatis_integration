<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>Login</title>
<link th:href="@{css/style.css}" rel="stylesheet" type="text/css" media="all" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
<script>
	var __links = document.querySelectorAll('a');
	function __linkClick(e) {
		parent.window.postMessage(this.href, '*');
	};
	for (var i = 0, l = __links.length; i &lt; l; i++) {
		if (__links[i].getAttribute('data-t') == '_blank') {
			__links[i].addEventListener('click', __linkClick, false);
		}
	}
</script>
<script th:src="@{js/jquery.min.js}"></script>
<script>$(document).ready(function(c) {
	$('.alert-close').on('click', function(c){
		$('.message').fadeOut('slow', function(c){
	  		$('.message').remove();
		});
	});	  
});
</script>
</head>
<body>
	<!-- contact-form -->
	<div class="message warning">
		<div class="inset">
			<div class="login-head">
				<h1>Login Form</h1>
				<div class="alert-close"></div>
			</div>
			<form th:action="@{/dologin}" method="POST">
				<ul>
				<li><input type="text" class="text" value="Username" name="username"
					onfocus="this.value = '';"
					onblur="if (this.value == '') {this.value = 'Username';}"><a
					href="#" class=" icon user"></a><div class="clear"></div></li>
				
				<li><input type="password" value="Password" name="password"
					onfocus="this.value = '';"
					onblur="if (this.value == '') {this.value = 'Password';}">
					<a href="#" class="icon lock"></a><div class="clear"></div></li>
				</ul>
				
				<!-- #strings.contains(source, target) 第一个参数为空会报错 -->
				<p th:if="${#strings.contains(session.SPRING_SECURITY_LAST_EXCEPTION == null ? 'a' : session.SPRING_SECURITY_LAST_EXCEPTION,'Bad credentials')}" style="color:red;">用户名或密码错误</p>
				<div class="submit">
					<input type="submit" onclick="myFunction()" value="Sign in">
					<h4>
						<a href="#">Lost your Password ?</a>
					</h4>
					<div class="clear"></div>
				</div>

			</form>
		</div>
	</div>
	<div class="clear"></div>
	<!--- footer --->
	<div class="footer">
		<p>Copyright &copy; 2014.</p>
	</div>

</body>
</html>